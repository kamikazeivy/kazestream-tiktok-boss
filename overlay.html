<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TikTok Boss Overlay</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Boss Health Bar -->
    <div id="boss-health-container">
      <div id="boss-health-bar"></div>
      <span id="boss-health-text">Boss HP: 100%</span>
    </div>

    <!-- Buddy Sprites (14 bosses, only one shown at a time) -->
    <div id="boss-buddies"></div>

    <!-- Leaderboard -->
    <div id="leaderboard">
      <h3>Top Attackers</h3>
      <ol id="leaderboard-list"></ol>
    </div>

    <!-- Chat Messages -->
    <div id="chat" aria-live="polite"></div>

    <!-- Gift Events -->
    <div id="gifts"></div>

    <!-- Event Messages (e.g., boss defeated, shield up) -->
    <div id="event-message"></div>

    <!-- Error/Status Message -->
    <div id="error-message"></div>

    <script src="overlay.js"></script>
    <script>
      const buddyNames = Array.from({ length: 14 }, (_, i) => `Buddy${i + 1}`);
      let currentBuddyIndex = 0;

      function setBuddySprite(index) {
        const buddiesDiv = document.getElementById("boss-buddies");
        buddiesDiv.innerHTML = "";
        const name = buddyNames[index];
        const img = document.createElement("img");
        img.src = `assets/images/${name}.png`;
        img.alt = name;
        img.className = "buddy-sprite";
        img.id = `buddy-${name}`;
        buddiesDiv.appendChild(img);
      }

      function switchBuddyRandom() {
        let newIndex;
        do {
          newIndex = Math.floor(Math.random() * buddyNames.length);
        } while (newIndex === currentBuddyIndex && buddyNames.length > 1);
        currentBuddyIndex = newIndex;
        setBuddySprite(currentBuddyIndex);
      }

      // Initial buddy on load
      setBuddySprite(currentBuddyIndex);

      // Example: Call switchBuddyRandom() when the boss is defeated
    </script>
  </body>
</html>
