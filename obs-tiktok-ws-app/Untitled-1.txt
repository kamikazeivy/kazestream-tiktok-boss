<div id="boss-buddies"></div>
<div id="buddy-name"></div>

<script>
const buddies = Array.from({ length: 14 }, (_, i) => ({
  name: `Buddy ${i + 1}`,
  img: `assets/images/buddy${i + 1}.png`
}));

// Example state (replace with your actual boss logic)
let currentBuddyIndex = 0;
let currentBossUsername = "???";

// Function to update the displayed buddy and boss name
function showCurrentBuddy() {
  const buddy = buddies[currentBuddyIndex];
  document.getElementById('boss-buddies').innerHTML = `
    <div class="buddy-entry boss-active">
      <img src="${buddy.img}" alt="${buddy.name}" class="buddy-img" />
      <div class="buddy-name">${buddy.name}</div>
    </div>
  `;
  document.getElementById('buddy-name').innerHTML = `
    <span class="boss-username">${currentBossUsername}</span>
  `;
}

// Example: Call this function whenever the boss resets
showCurrentBuddy();

// Example: To switch to a new buddy and boss username on defeat
// currentBuddyIndex = (currentBuddyIndex + 1) % buddies.length;
// currentBossUsername = "NewBossUsername";
// showCurrentBuddy();

// Example: Listen for boss reset from backend
socket.on("bossReset", ({ newBuddyIndex, newBossUsername }) => {
  currentBuddyIndex = newBuddyIndex;
  currentBossUsername = newBossUsername;
  showCurrentBuddy();
});
</script>

<style>
/* Buddy display styling */
#boss-buddies {
  display: flex;
  justify-content: center;
  align-items: flex-end;
  margin-top: 16px;
}
.buddy-entry {
  text-align: center;
  padding: 12px 24px;
  border-radius: 16px;
  background: rgba(0,0,0,0.2);
  box-shadow: 0 0 16px #2228, 0 0 4px #fff2;
  transition: box-shadow 0.3s, transform 0.3s;
}
.boss-active {
  box-shadow: 0 0 24px #ff2222, 0 0 8px #fff8;
  transform: scale(1.08);
}
.buddy-img {
  width: 96px;
  height: 96px;
  display: block;
  margin: 0 auto 8px auto;
  border-radius: 12px;
  background: #222;
  box-shadow: 0 0 8px #ff2222, 0 0 2px #fff;
}
.buddy-name {
  font-family: 'Press Start 2P', monospace;
  font-size: 13px;
  color: #fff;
  margin-top: 4px;
  letter-spacing: 1px;
}
#buddy-name {
  text-align: center;
  margin-top: 12px;
}
.boss-username {
  font-family: 'Press Start 2P', monospace;
  color: #ff2222;
  font-size: 20px;
  text-shadow:
    0 0 5px #ff2222,
    0 0 10px #ff2222,
    0 0 20px #ff2222,
    0 0 40px #ff2222;
  background: none;
  padding: 0 8px;
}
</style>